<div
  class="d-flex align-items-center messages-thread__container border-bottom border-color-grey px-15px pb-15px pt-10px cursor-pointer"
  (mouseover)="isHovered = true"
  (mouseleave)="isHovered = false"
  [ngClass]="{
    'messages-inbox__selected-thread': isSelected || isHovered,
    'message-thread__unread-light-blue': !isHovered && globalVars.decryptedMessages?.length > 0
  }"
>
  <div class="messages-thread__avatar" [avatar]="this.previewPublicKeyBase58Check"></div>
  <!-- The CSS styles / classes get pretty dense here. Sorry! -->
  <div class="flex-grow-1 fs-15px ml-15px" style="overflow: hidden">
    <div class="d-flex align-items-center" style="overflow: hidden; white-space: pre">
      <div class="flex-grow-1 d-flex align-items-center" style="overflow: hidden">
        <div class="font-weight-bold messages-thread__ellipsis-restriction">
          {{
            this.previewProfileEntry?.Username ? this.previewProfileEntry.Username : this.previewPublicKeyBase58Check
          }}
        </div>
        <span *ngIf="this.previewProfileEntry?.IsVerified" class="ml-1 text-primary">
          <i class="fas fa-check-circle fa-md align-middle"></i>
        </span>
        <div
          *ngIf="this.previewProfileEntry"
          class="messages-thread__border-radius ml-5px font-weight-normal px-10px py-2px mt-5px background-color-light-grey"
          style="width: fit-content"
        >
          {{ globalVars.nanosToUSD(globalVars._parseFloat(this.previewProfileEntry.CoinPriceDeSoNanos), 2) }}
        </div>
      </div>
      <div class="fc-muted">
        {{ globalVars.convertTstampToDateOrTime(this.threadPreview.MessageInfo.TimestampNanos) }}
      </div>
    </div>
    <div>
      <!-- If we are the sender, we need to bank on the decryptedMessageMap having the decrypted text. -->
      <div class="messages-thread__ellipsis-restriction">
        {{ this.threadPreview.DecryptedMessage }}
      </div>
    </div>
  </div>
</div>
